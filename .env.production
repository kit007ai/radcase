# RadCase Production Environment Configuration
# Copy to .env and update with actual production values

# Application
NODE_ENV=production
PORT=3001
APP_NAME=RadCase
APP_VERSION=1.0.0

# Domain and SSL
DOMAIN=radcase.com
ACME_EMAIL=admin@radcase.com
CF_API_EMAIL=admin@radcase.com
CF_API_KEY=your-cloudflare-api-key

# Security - CRITICAL: Generate secure values
JWT_SECRET=your-super-secure-jwt-secret-generate-with-openssl-rand-hex-32

# Database (PostgreSQL)
DATABASE_URL=postgresql://radcase:secure-password@postgres-cluster:5432/radcase_production
DATABASE_HOST=postgres-cluster.internal
DATABASE_NAME=radcase_production
DATABASE_USER=radcase
DATABASE_PASSWORD=secure-database-password
DB_MAX_CONNECTIONS=20
DB_CONNECTION_TIMEOUT=30000

# Redis Cache
REDIS_URL=redis://redis-cluster:6379
REDIS_PASSWORD=secure-redis-password
REDIS_DB=0
REDIS_MAX_CONNECTIONS=10

# AWS/Cloud Storage
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
S3_BUCKET=radcase-production-files
S3_BACKUP_BUCKET=radcase-backups
CLOUDFRONT_DOMAIN=cdn.radcase.com

# File Upload Limits
MAX_FILE_SIZE_MB=50
MAX_DICOM_FILE_SIZE_MB=500
UPLOAD_RATE_LIMIT=10

# Load Balancer / Proxy
ADMIN_IP_RANGE=10.0.0.0/8,192.168.0.0/16
TRUSTED_PROXIES=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# Monitoring & Alerting
PROMETHEUS_REMOTE_WRITE_URL=https://prometheus-remote-write.example.com/api/prom/push
PROMETHEUS_REMOTE_WRITE_TOKEN=your-prometheus-token
GRAFANA_ADMIN_PASSWORD=secure-grafana-password

# Notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
ALERT_EMAIL=alerts@radcase.com

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_ACCESS_LOGS=true
LOG_RETENTION_DAYS=30

# Backup Configuration
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
ENABLE_S3_BACKUP=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=1000
AUTH_RATE_LIMIT_MAX_REQUESTS=5
API_RATE_LIMIT_MAX_REQUESTS=100

# Session Configuration
SESSION_SECRET=another-secure-secret-for-sessions
SESSION_MAX_AGE=2592000000  # 30 days
SESSION_SECURE=true
SESSION_SAME_SITE=strict

# SMTP (for notifications)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@radcase.com
SMTP_PASSWORD=smtp-password
SMTP_FROM=RadCase <noreply@radcase.com>

# Health Checks
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000
ENABLE_DETAILED_HEALTH_CHECKS=false  # Security: disable in production

# Feature Flags
ENABLE_REGISTRATION=true
ENABLE_USER_MANAGEMENT=true
ENABLE_DICOM_UPLOAD=true
ENABLE_CASE_SHARING=false
ENABLE_API_DOCUMENTATION=false  # Security: disable in production

# Performance Tuning
NODE_OPTIONS="--max_old_space_size=2048"
ENABLE_CLUSTERING=true
WORKER_PROCESSES=auto  # auto = CPU cores

# Content Delivery
CDN_URL=https://cdn.radcase.com
STATIC_CACHE_MAX_AGE=31536000  # 1 year for static assets
API_CACHE_MAX_AGE=300  # 5 minutes for API responses

# Security Headers
ENABLE_HSTS=true
HSTS_MAX_AGE=31536000
ENABLE_CSP=true
CSP_REPORT_URI=/api/csp-report

# Database Encryption
DB_ENCRYPTION_KEY=database-encryption-key-32-chars-min
ENCRYPT_PII=true

# Audit Logging
ENABLE_AUDIT_LOGS=true
AUDIT_LOG_RETENTION_DAYS=365
AUDIT_LOG_SENSITIVE_FIELDS=password,ssn,dob

# External Services
RECAPTCHA_SITE_KEY=your-recaptcha-site-key
RECAPTCHA_SECRET_KEY=your-recaptcha-secret-key

# Analytics (optional)
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
ENABLE_ANALYTICS=false

# Time Zone
TZ=UTC

# NFS/Shared Storage (for multi-instance deployments)
NFS_SERVER=nfs.internal.radcase.com
NFS_PATH=/shared/radcase

# Container Settings
CONTAINER_USER=radcase
CONTAINER_GROUP=nodejs

# Development/Testing (should be false in production)
ENABLE_DEBUG_ROUTES=false
ENABLE_MOCK_DATA=false
SKIP_MIGRATIONS=false